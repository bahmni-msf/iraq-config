<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="IRAQ_CONFIG_202001101145" author="SivaKrishna">
        <comment>Adding Concepts for OPD Progress Note</comment>
        <sqlFile path="NursingNoteFollowUp/addConceptForNursingNote.sql"/>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_202001101146" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="2">
                select
                count(*)
                From
                concept_reference_term
                where `code` in
                (
                "162869","160287")
                and retired = 0
                and concept_source_id = (
                select concept_source_id from concept_reference_source where `name` = 'CEIL'  and retired =0
                );
            </sqlCheck>
        </preConditions>
        <comment>Adding codes to specific concepts</comment>
        <sql>

            call CREATE_REFERENCE_MAPPING_CEIL('NN, Date recorded', '162869');

            call CREATE_REFERENCE_MAPPING_CEIL('NN, Pain score', '160287');

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_202001101147" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("OPD","IPD")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Date recorded");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Date recorded</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Date recorded" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "IPD" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "OPD" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_2020011011481" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("IPD","OPD")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Location of patient");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Location of patient</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Location of patient" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "IPD" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "OPD" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_202001101148" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Yes","No")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Was the dressing changed");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Was the dressing changed</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Was the dressing changed" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Yes" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "No" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_202001101149" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Right","Left","Bilateral")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Side of dressing");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Side of dressing</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Side of dressing" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Right" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Left" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Bilateral" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015425" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Groin","Gluteal","Hip","Thigh","Knee","Leg","Ankle","Foot","Toe","Shoulder","Axilla","Arm","Elbow","Forearm","Wrist","Hand","Finger","Breast","Trunk","Abdomen","Chest","Upper back","Lower back","Stump","Eye","Eyelid","Ear","Nose","Lip","Mouth","Jaw","Cheek","Chin","Scalp","Neck","Face","Forehead including eyebrow","Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "NN, Site of dressing");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Site of dressing</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "NN, Site of dressing" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            set @child10_concept_id = 0;
            set @child11_concept_id = 0;
            set @child12_concept_id = 0;
            set @child13_concept_id = 0;
            set @child14_concept_id = 0;
            set @child15_concept_id = 0;
            set @child16_concept_id = 0;
            set @child17_concept_id = 0;
            set @child18_concept_id = 0;
            set @child19_concept_id = 0;
            set @child20_concept_id = 0;
            set @child21_concept_id = 0;
            set @child22_concept_id = 0;
            set @child23_concept_id = 0;
            set @child24_concept_id = 0;
            set @child25_concept_id = 0;
            set @child26_concept_id = 0;
            set @child27_concept_id = 0;
            set @child28_concept_id = 0;
            set @child29_concept_id = 0;
            set @child30_concept_id = 0;
            set @child31_concept_id = 0;
            set @child32_concept_id = 0;
            set @child33_concept_id = 0;
            set @child34_concept_id = 0;
            set @child35_concept_id = 0;
            set @child36_concept_id = 0;
            set @child37_concept_id = 0;
            set @child38_concept_id = 0;

            select concept_id into @child1_concept_id from concept_name where name ="Groin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Gluteal" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Hip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Thigh" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Knee" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Leg" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name ="Ankle" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name ="Foot" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name ="Toe" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child10_concept_id from concept_name where name ="Shoulder" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child11_concept_id from concept_name where name ="Axilla" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child12_concept_id from concept_name where name ="Arm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child13_concept_id from concept_name where name ="Elbow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child14_concept_id from concept_name where name ="Forearm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child15_concept_id from concept_name where name ="Wrist" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child16_concept_id from concept_name where name ="Hand" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child17_concept_id from concept_name where name ="Finger" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child18_concept_id from concept_name where name ="Breast" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child19_concept_id from concept_name where name ="Trunk" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child20_concept_id from concept_name where name ="Abdomen" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child21_concept_id from concept_name where name ="Chest" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child22_concept_id from concept_name where name ="Upper back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child23_concept_id from concept_name where name ="Lower back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child24_concept_id from concept_name where name ="Stump" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child25_concept_id from concept_name where name ="Eye" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child26_concept_id from concept_name where name ="Eyelid" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child27_concept_id from concept_name where name ="Ear" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child28_concept_id from concept_name where name ="Nose" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child29_concept_id from concept_name where name ="Lip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child30_concept_id from concept_name where name ="Mouth" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child31_concept_id from concept_name where name ="Jaw" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child32_concept_id from concept_name where name ="Cheek" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child33_concept_id from concept_name where name ="Chin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child34_concept_id from concept_name where name ="Scalp" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child35_concept_id from concept_name where name ="Neck" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child36_concept_id from concept_name where name ="Face" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child37_concept_id from concept_name where name ="Forehead including eyebrow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child38_concept_id from concept_name where name ="Other" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
            call add_concept_answer(@concept_id, @child10_concept_id, 10);
            call add_concept_answer(@concept_id, @child11_concept_id, 11);
            call add_concept_answer(@concept_id, @child12_concept_id, 12);
            call add_concept_answer(@concept_id, @child13_concept_id, 13);
            call add_concept_answer(@concept_id, @child14_concept_id, 14);
            call add_concept_answer(@concept_id, @child15_concept_id, 15);
            call add_concept_answer(@concept_id, @child16_concept_id, 16);
            call add_concept_answer(@concept_id, @child17_concept_id, 17);
            call add_concept_answer(@concept_id, @child18_concept_id, 18);
            call add_concept_answer(@concept_id, @child19_concept_id, 19);
            call add_concept_answer(@concept_id, @child20_concept_id, 20);
            call add_concept_answer(@concept_id, @child21_concept_id, 21);
            call add_concept_answer(@concept_id, @child22_concept_id, 22);
            call add_concept_answer(@concept_id, @child23_concept_id, 23);
            call add_concept_answer(@concept_id, @child24_concept_id, 24);
            call add_concept_answer(@concept_id, @child25_concept_id, 25);
            call add_concept_answer(@concept_id, @child26_concept_id, 26);
            call add_concept_answer(@concept_id, @child27_concept_id, 27);
            call add_concept_answer(@concept_id, @child28_concept_id, 28);
            call add_concept_answer(@concept_id, @child29_concept_id, 29);
            call add_concept_answer(@concept_id, @child30_concept_id, 30);
            call add_concept_answer(@concept_id, @child31_concept_id, 31);
            call add_concept_answer(@concept_id, @child32_concept_id, 32);
            call add_concept_answer(@concept_id, @child33_concept_id, 33);
            call add_concept_answer(@concept_id, @child34_concept_id, 34);
            call add_concept_answer(@concept_id, @child35_concept_id, 35);
            call add_concept_answer(@concept_id, @child36_concept_id, 36);
            call add_concept_answer(@concept_id, @child37_concept_id, 37);
            call add_concept_answer(@concept_id, @child38_concept_id, 38);
        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015456" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Necrosis","Fibrin","Granulations","Epithelisation","Infected","Healed")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "NN, Description of wound");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Description of wound</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "NN, Description of wound" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;

            select concept_id into @child1_concept_id from concept_name where name ="Necrosis (black aspect)" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Fibrin (yellow or green aspect)" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Granulations (red aspect )" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Epithelisation (pink aspect)" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Infected" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Healed" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015457" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Absent","Light","Moderate","Heavy")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "NN, Exudate quantity");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Exudate quantity</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "NN, Exudate quantity" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;

            select concept_id into @child1_concept_id from concept_name where name ="Absent" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Light" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Moderate" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Heavy" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015477" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Dry wound","Pus","Serous","Oozing","Bleeding")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "NN, Exudate type");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Exudate type</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "NN, Exudate type" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;

            select concept_id into @child1_concept_id from concept_name where name ="Dry wound" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Pus" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Serous" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Oozing" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Bleeding" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015478" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Right","Left","Bilateral")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Side of pain");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Side of pain</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Side of pain" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Right" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Left" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Bilateral" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020011015479" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Groin","Gluteal","Hip","Thigh","Knee","Leg","Ankle","Foot","Toe","Shoulder","Axilla","Arm","Elbow","Forearm","Wrist","Hand","Finger","Breast","Trunk","Abdomen","Chest","Upper back","Lower back","Stump","Eye","Eyelid","Ear","Nose","Lip","Mouth","Jaw","Cheek","Chin","Scalp","Neck","Face","Forehead including eyebrow","Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "NN, Site of pain");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Site of pain</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "NN, Site of pain" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            set @child10_concept_id = 0;
            set @child11_concept_id = 0;
            set @child12_concept_id = 0;
            set @child13_concept_id = 0;
            set @child14_concept_id = 0;
            set @child15_concept_id = 0;
            set @child16_concept_id = 0;
            set @child17_concept_id = 0;
            set @child18_concept_id = 0;
            set @child19_concept_id = 0;
            set @child20_concept_id = 0;
            set @child21_concept_id = 0;
            set @child22_concept_id = 0;
            set @child23_concept_id = 0;
            set @child24_concept_id = 0;
            set @child25_concept_id = 0;
            set @child26_concept_id = 0;
            set @child27_concept_id = 0;
            set @child28_concept_id = 0;
            set @child29_concept_id = 0;
            set @child30_concept_id = 0;
            set @child31_concept_id = 0;
            set @child32_concept_id = 0;
            set @child33_concept_id = 0;
            set @child34_concept_id = 0;
            set @child35_concept_id = 0;
            set @child36_concept_id = 0;
            set @child37_concept_id = 0;
            set @child38_concept_id = 0;

            select concept_id into @child1_concept_id from concept_name where name ="Groin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Gluteal" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Hip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Thigh" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Knee" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Leg" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name ="Ankle" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name ="Foot" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name ="Toe" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child10_concept_id from concept_name where name ="Shoulder" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child11_concept_id from concept_name where name ="Axilla" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child12_concept_id from concept_name where name ="Arm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child13_concept_id from concept_name where name ="Elbow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child14_concept_id from concept_name where name ="Forearm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child15_concept_id from concept_name where name ="Wrist" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child16_concept_id from concept_name where name ="Hand" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child17_concept_id from concept_name where name ="Finger" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child18_concept_id from concept_name where name ="Breast" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child19_concept_id from concept_name where name ="Trunk" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child20_concept_id from concept_name where name ="Abdomen" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child21_concept_id from concept_name where name ="Chest" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child22_concept_id from concept_name where name ="Upper back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child23_concept_id from concept_name where name ="Lower back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child24_concept_id from concept_name where name ="Stump" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child25_concept_id from concept_name where name ="Eye" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child26_concept_id from concept_name where name ="Eyelid" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child27_concept_id from concept_name where name ="Ear" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child28_concept_id from concept_name where name ="Nose" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child29_concept_id from concept_name where name ="Lip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child30_concept_id from concept_name where name ="Mouth" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child31_concept_id from concept_name where name ="Jaw" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child32_concept_id from concept_name where name ="Cheek" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child33_concept_id from concept_name where name ="Chin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child34_concept_id from concept_name where name ="Scalp" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child35_concept_id from concept_name where name ="Neck" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child36_concept_id from concept_name where name ="Face" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child37_concept_id from concept_name where name ="Forehead including eyebrow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child38_concept_id from concept_name where name ="Other" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
            call add_concept_answer(@concept_id, @child10_concept_id, 10);
            call add_concept_answer(@concept_id, @child11_concept_id, 11);
            call add_concept_answer(@concept_id, @child12_concept_id, 12);
            call add_concept_answer(@concept_id, @child13_concept_id, 13);
            call add_concept_answer(@concept_id, @child14_concept_id, 14);
            call add_concept_answer(@concept_id, @child15_concept_id, 15);
            call add_concept_answer(@concept_id, @child16_concept_id, 16);
            call add_concept_answer(@concept_id, @child17_concept_id, 17);
            call add_concept_answer(@concept_id, @child18_concept_id, 18);
            call add_concept_answer(@concept_id, @child19_concept_id, 19);
            call add_concept_answer(@concept_id, @child20_concept_id, 20);
            call add_concept_answer(@concept_id, @child21_concept_id, 21);
            call add_concept_answer(@concept_id, @child22_concept_id, 22);
            call add_concept_answer(@concept_id, @child23_concept_id, 23);
            call add_concept_answer(@concept_id, @child24_concept_id, 24);
            call add_concept_answer(@concept_id, @child25_concept_id, 25);
            call add_concept_answer(@concept_id, @child26_concept_id, 26);
            call add_concept_answer(@concept_id, @child27_concept_id, 27);
            call add_concept_answer(@concept_id, @child28_concept_id, 28);
            call add_concept_answer(@concept_id, @child29_concept_id, 29);
            call add_concept_answer(@concept_id, @child30_concept_id, 30);
            call add_concept_answer(@concept_id, @child31_concept_id, 31);
            call add_concept_answer(@concept_id, @child32_concept_id, 32);
            call add_concept_answer(@concept_id, @child33_concept_id, 33);
            call add_concept_answer(@concept_id, @child34_concept_id, 34);
            call add_concept_answer(@concept_id, @child35_concept_id, 35);
            call add_concept_answer(@concept_id, @child36_concept_id, 36);
            call add_concept_answer(@concept_id, @child37_concept_id, 37);
            call add_concept_answer(@concept_id, @child38_concept_id, 38);
        </sql>
    </changeSet>

    <!-- MOBN-1071 Feedback on Nursing Note Follow-up (adding concepts Type of assessment, Discharge from nursing care) changes start -->
    <changeSet id="IRAQ_CONFIG_202001281500" author="Sivakrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name where name in ( "NN, Type of assessment", "Discharge from nursing care");
            </sqlCheck>
        </preConditions>
        <comment>Create "NN, Type of assessment", "Discharge from nursing care" concepts</comment>
        <sql>
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Type of assessment","Type of assessment",'Coded','Question',false);
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"Discharge from nursing care","Discharge from nursing care","N/A","Misc",false);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_202001281501" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("New assessment",
                "Re-assessment",
                "Discharge from nursing care")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Type of assessment");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Type of assessment</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Type of assessment" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "New assessment" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Re-assessment" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Discharge from nursing care" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);

        </sql>
    </changeSet>
    <!-- MOBN-1071 Feedback on Nursing Note Follow-up (adding concepts Type of assessment, Discharge from nursing care) changes end -->

    <changeSet id="IRAQ_CONFIG_202002160823" author="Sreekalyan">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_name where name in ( "NN, Does the patient have a cannula?", "NN, Cannula date of insertion","NN, Does the patient have stitches?","NN, Date of stitches removal","NN, Date to stop the dressing for the patient");
            </sqlCheck>
        </preConditions>
        <comment>Create "Does the patient have a cannula?", "Discharge from nursing care" concepts</comment>
        <sql>

            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Does the patient have a cannula?","Does the patient have a cannula?",'Coded','Question',false);
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Cannula date of insertion","Cannula date of insertion","Date","Misc",false);
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Does the patient have stitches?","Does the patient have stitches?","Coded","Question",false);
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Date of stitches removal","Date of stitches removal","Date","Misc",false);
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"NN, Date to stop the dressing for the patient","Date to stop the dressing for the patient","Date","Misc",false);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020020827" author="Sreekalyan">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Yes","No")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Does the patient have a cannula?");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Was the dressing changed</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Does the patient have a cannula?" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Yes" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "No" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_2020020830" author="Sreekalyan">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Yes","No")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "NN, Does the patient have stitches?");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Was the dressing changed</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "NN, Does the patient have stitches?" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Yes" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "No" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

</databaseChangeLog>