<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="IRAQ_CONFIG_201909111144" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="1">
                select count(*) from concept_name where name = "Discharge" and
                concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            </sqlCheck>
        </preConditions>
        <comment>Updating concept name id to old</comment>
        <sql>

            set @concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "Discharge" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            Update concept_name set name= "Discharge_old" where concept_id = @concept_id and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111145" author="SivaKrishna">
        <comment>Adding Concepts for OPD Progress Note</comment>
        <sqlFile path="OpdProgressNote/addConceptForOpdProgressNote.sql"/>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111146" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                From
                concept_reference_term
                where `code` in
                (
                "160430","160287","160523","1442","1641","1695",
                "1692","1694","160431","159","164165")
                and retired = 0
                and concept_source_id = (
                select concept_source_id from concept_reference_source where `name` = 'CEIL'  and retired =0
                );
            </sqlCheck>
        </preConditions>
        <comment>Adding codes to specific concepts</comment>
        <sql>
            SELECT concept_source_id INTO @source_id FROM concept_reference_source where name = 'CEIL';

            <!--    INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
                (4,'162869',@source_id,uuid(),now());-->

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'160430',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'160287',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'160523',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'1442',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'1641',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'1695',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'1692',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'1694',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'160431',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'159',@source_id,uuid(),now());

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES
            (4,'164165',@source_id,uuid(),now());


            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Date recorded', '162869');

            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Reason for visit', '160430');

            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Pain score', '160287');

            call CREATE_REFERENCE_MAPPING_CEIL('Follow-up', '160523');

            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Current pain medication', '1442');

            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Date of discharge', '1641');

            call CREATE_REFERENCE_MAPPING_CEIL('OPN, Discharge status', '1695');

            call CREATE_REFERENCE_MAPPING_CEIL('Discharged treatment complete', '1692');

            call CREATE_REFERENCE_MAPPING_CEIL('Discharge against medical advice', '1694');

            call CREATE_REFERENCE_MAPPING_CEIL('Defaulter', '160431');

            call CREATE_REFERENCE_MAPPING_CEIL('Deceased', '159');

            call CREATE_REFERENCE_MAPPING_CEIL('Referred to other facility for specialized care', '164165');

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111147" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select
                count(*)
                from
                concept_answer ca
                join concept_name cn on
                ca.concept_id = cn.concept_id
                where
                ca.answer_concept IN (
                select concept_id
                from
                concept_name
                where
                name IN
                ("Follow-up",
                "Pain Visit",
                "Mutual session",
                "Wound follow-up",
                "Communication with surgeon",
                "Transfer to IPD",
                "Discharge",
                "Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND cn.concept_id IN (
                select concept_id
                from
                concept_name
                where
                name = "OPN, Reason for visit");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Reason for visit</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Reason for visit" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Follow-up" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Pain Visit" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Mutual session" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name = "Wound follow-up" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name = "Communication with surgeon" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name = "Transfer to IPD" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name = "Discharge" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name = "Other" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111148" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Nociceptive","Neuropathic","Mixed" )
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Type of pain experienced by the patient");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Type of pain experienced by the patient </comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Type of pain experienced by the patient" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child1_concept_id from concept_name where name = "Nociceptive" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Neuropathic" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Mixed" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111201" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Burning");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Burning</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Burning" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111205" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Painful cold");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Painful cold</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Painful cold" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111206" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Electrical Shocks");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Electrical Shocks</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Electrical Shocks" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111207" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Tingling");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Tingling</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Tingling" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111208" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Pins and Needles");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Pins and Needles</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Pins and Needles" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111209" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Numbness");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Numbness</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Numbness" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111210" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Itching");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Itching</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Itching" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111211" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Hypoaesthesia to touch");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Hypoaesthesia to touch</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Hypoaesthesia to touch" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111212" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Hypoaesthesia to pinprick");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Hypoaesthesia to pinprick</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Hypoaesthesia to pinprick" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111213" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("0 = No","1 = Yes")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Light brushing");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Light brushing</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Light brushing" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111214" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Right","Left","Bilateral" )
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Side of pain");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Side of pain</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Side of pain" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child1_concept_id from concept_name where name = "Right" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Left" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Bilateral" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111216" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Groin","Gluteal","Hip","Thigh","Knee","Leg","Ankle","Foot","Toe","Shoulder","Axilla","Arm","Elbow","Forearm",
                "Wrist","Hand","Finger","Breast","Trunk","Abdomen","Chest","Upper back","Lower back","Stump","Eye","Eyelid","Ear",
                "Nose","Lip","Mouth","Jaw","Cheek","Chin","Scalp","Neck","Face","Forehead including eyebrow","Other"
                )
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Site of pain");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Site of pain</comment>
        <sql>

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            set @child10_concept_id = 0;
            set @child11_concept_id = 0;
            set @child12_concept_id = 0;
            set @child13_concept_id = 0;
            set @child14_concept_id = 0;
            set @child15_concept_id = 0;
            set @child16_concept_id = 0;
            set @child17_concept_id = 0;
            set @child18_concept_id = 0;
            set @child19_concept_id = 0;
            set @child20_concept_id = 0;
            set @child21_concept_id = 0;
            set @child22_concept_id = 0;
            set @child23_concept_id = 0;
            set @child24_concept_id = 0;
            set @child25_concept_id = 0;
            set @child26_concept_id = 0;
            set @child27_concept_id = 0;
            set @child28_concept_id = 0;
            set @child29_concept_id = 0;
            set @child30_concept_id = 0;
            set @child31_concept_id = 0;
            set @child32_concept_id = 0;
            set @child33_concept_id = 0;
            set @child34_concept_id = 0;
            set @child35_concept_id = 0;
            set @child36_concept_id = 0;
            set @child37_concept_id = 0;
            set @child38_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Site of pain" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Groin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Gluteal" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Hip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name = "Thigh" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name = "Knee" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name = "Leg" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name = "Ankle" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name = "Foot" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name = "Toe" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child10_concept_id from concept_name where name = "Shoulder" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child11_concept_id from concept_name where name = "Axilla" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child12_concept_id from concept_name where name = "Arm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child13_concept_id from concept_name where name = "Elbow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child14_concept_id from concept_name where name = "Forearm" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child15_concept_id from concept_name where name = "Wrist" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child16_concept_id from concept_name where name = "Hand" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child17_concept_id from concept_name where name = "Finger" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child18_concept_id from concept_name where name = "Breast" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child19_concept_id from concept_name where name = "Trunk" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child20_concept_id from concept_name where name = "Abdomen" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child21_concept_id from concept_name where name = "Chest" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child22_concept_id from concept_name where name = "Upper back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child23_concept_id from concept_name where name = "Lower back" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child24_concept_id from concept_name where name = "Stump" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child25_concept_id from concept_name where name = "Eye" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child26_concept_id from concept_name where name = "Eyelid" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child27_concept_id from concept_name where name = "Ear" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child28_concept_id from concept_name where name = "Nose" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child29_concept_id from concept_name where name = "Lip" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child30_concept_id from concept_name where name = "Mouth" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child31_concept_id from concept_name where name = "Jaw" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child32_concept_id from concept_name where name = "Cheek" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child33_concept_id from concept_name where name = "Chin" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child34_concept_id from concept_name where name = "Scalp" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child35_concept_id from concept_name where name = "Neck" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child36_concept_id from concept_name where name = "Face" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child37_concept_id from concept_name where name = "Forehead including eyebrow" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child38_concept_id from concept_name where name = "Other" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;


            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
            call add_concept_answer(@concept_id, @child10_concept_id, 10);
            call add_concept_answer(@concept_id, @child11_concept_id, 11);
            call add_concept_answer(@concept_id, @child12_concept_id, 12);
            call add_concept_answer(@concept_id, @child13_concept_id, 13);
            call add_concept_answer(@concept_id, @child14_concept_id, 14);
            call add_concept_answer(@concept_id, @child15_concept_id, 15);
            call add_concept_answer(@concept_id, @child16_concept_id, 16);
            call add_concept_answer(@concept_id, @child17_concept_id, 17);
            call add_concept_answer(@concept_id, @child18_concept_id, 18);
            call add_concept_answer(@concept_id, @child19_concept_id, 19);
            call add_concept_answer(@concept_id, @child20_concept_id, 20);
            call add_concept_answer(@concept_id, @child21_concept_id, 21);
            call add_concept_answer(@concept_id, @child22_concept_id, 22);
            call add_concept_answer(@concept_id, @child23_concept_id, 23);
            call add_concept_answer(@concept_id, @child24_concept_id, 24);
            call add_concept_answer(@concept_id, @child25_concept_id, 25);
            call add_concept_answer(@concept_id, @child26_concept_id, 26);
            call add_concept_answer(@concept_id, @child27_concept_id, 27);
            call add_concept_answer(@concept_id, @child28_concept_id, 28);
            call add_concept_answer(@concept_id, @child29_concept_id, 29);
            call add_concept_answer(@concept_id, @child30_concept_id, 30);
            call add_concept_answer(@concept_id, @child31_concept_id, 31);
            call add_concept_answer(@concept_id, @child32_concept_id, 32);
            call add_concept_answer(@concept_id, @child33_concept_id, 33);
            call add_concept_answer(@concept_id, @child34_concept_id, 34);
            call add_concept_answer(@concept_id, @child35_concept_id, 35);
            call add_concept_answer(@concept_id, @child36_concept_id, 36);
            call add_concept_answer(@concept_id, @child37_concept_id, 37);
            call add_concept_answer(@concept_id, @child38_concept_id, 38);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111248" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("With physiotherapy","With dressing change","At night","Other" )
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, When does the pain occur");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of When does the pain occur</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, When does the pain occur" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child1_concept_id from concept_name where name = "With physiotherapy" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "With dressing change" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "At night" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name = "Other" and concept_name_type ='FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111251" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Continuous","Intermittent")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Occurrence of the pain");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Occurrence of the pain</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Occurrence of the pain" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Continuous" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "Intermittent" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111254" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("1 = Yes","0 = No")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Communication received from the surgeon");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Communication received from the surgeon</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Communication received from the surgeon" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "1 = Yes" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "0 = No" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);

        </sql>
    </changeSet>


    <changeSet id="IRAQ_CONFIG_201909111256" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Medication","Isolation","Wound care","Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Notes or medications to be followed in OPD");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Notes or medications to be followed in OPD</comment>
        <sql>

            set @concept_id = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Notes or medications to be followed in OPD" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Medication" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child2_concept_id from concept_name where name = "Isolation" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child3_concept_id from concept_name where name = "Wound care" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child4_concept_id from concept_name where name = "Other" and concept_name_type =
            'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);

        </sql>
    </changeSet>

    <changeSet id="IRAQ_CONFIG_201909111258" author="SivaKrishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Discharged treatment complete","Referred back to orthopedic surgeon","Referred for surgical complication",
                "Referred to Amman RSP","Discharge against medical advice","Defaulter","Deceased",
                "Referred to other facility for specialized care","Therapeutic break","Geographic relocation")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Discharge status");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to Outcome of Discharge status</comment>
        <sql>

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            set @child10_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Discharge status" and
            concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Discharged treatment complete" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Referred back to orthopedic surgeon" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Referred for surgical complication" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name = "Referred to Amman RSP" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name = "Discharge against medical advice" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name = "Defaulter" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name = "Deceased" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name = "Referred to other facility for specialized care" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name = "Therapeutic break" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child10_concept_id from concept_name where name = "Geographic relocation" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
            call add_concept_answer(@concept_id, @child10_concept_id, 10);

        </sql>
    </changeSet>

    <!-- MOBN-1046 Change the Muscle Strengthening, exercise type to Multi select from Single select changes Start-->
    <changeSet id="IRAQ-240120201317" author="Siva krishna">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Dismissal")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "OPN, Discharge status");
            </sqlCheck>
        </preConditions>
        <comment>Add Dismissal to Discharge status concept in OPD progress note formand re arrange sort weights</comment>
        <sql>
            call add_concept(@concept_id,@concept_short_id,@concept_full_id,"Dismissal","Dismissal",'N/A','Misc',false);

            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;

            select concept_id into @concept_id from concept_name where name = "OPN, Discharge status" and concept_name_type = 'FULLY_SPECIFIED' and locale = "en" and voided = 0;

            select concept_id into @child1_concept_id from concept_name where name = "Deceased" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name = "Referred to other facility for specialized care" and concept_name_type = 'FULLY_SPECIFIED'
            and locale = 'en' and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name = "Therapeutic break" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name = "Geographic relocation" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            UPDATE concept_answer SET sort_weight=8 WHERE answer_concept=@child1_concept_id and concept_id=@concept_id;
            UPDATE concept_answer SET sort_weight=9 WHERE answer_concept=@child2_concept_id and concept_id=@concept_id;
            UPDATE concept_answer SET sort_weight=10 WHERE answer_concept=@child3_concept_id and concept_id=@concept_id;
            UPDATE concept_answer SET sort_weight=11 WHERE answer_concept=@child4_concept_id and concept_id=@concept_id;


            select concept_id into @child5_concept_id from concept_name where name ="Dismissal" and concept_name_type = 'FULLY_SPECIFIED' and locale = 'en' and voided = 0;

            call add_concept_answer(@concept_id, @child5_concept_id, 7);

        </sql>
    </changeSet>
    <!-- MOBN-1046 Change the Muscle Strengthening, exercise type to Multi select from Single select changes end-->


</databaseChangeLog>